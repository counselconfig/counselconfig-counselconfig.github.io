<!DOCTYPE html><html lang="en" ><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><div style = "position:absolute; left:460px; top:70px;"><h1 style="font-family:Calibri Light; color:Grey; font-size: 25px;">counsel.config<sup style="font-size:20%">TM</sup>&nbsp</h1></div><meta name="generator" content="Jekyll v4.0.0" /><meta property="og:title" content="RESTful APIs and Postman" /><meta property="og:locale" content="en_US" /><meta name="description" content="Software Engineering Advice" /><meta property="og:description" content="Software Engineering Advice" /><link rel="canonical" href="http://localhost:4000/2022/12/01/apis-and-postman" /><meta property="og:url" content="http://localhost:4000/2022/12/01/apis-and-postman" /><meta property="og:site_name" content="counsel.config" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-12-01T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="RESTful APIs and Postman" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"dateModified":"2022-12-01T00:00:00+00:00","@type":"BlogPosting","url":"http://localhost:4000/2022/12/01/apis-and-postman","description":"Software Engineering Advice","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022/12/01/apis-and-postman"},"headline":"RESTful APIs and Postman","datePublished":"2022-12-01T00:00:00+00:00","@context":"https://schema.org"}</script><title> RESTful APIs and Postman - counsel.config</title><link rel="shortcut icon" href="/favicon.png"><link rel="alternate" type="application/atom+xml" title="counsel.config" href="/atom.xml"><link rel="alternate" type="application/json" title="counsel.config" href="http://localhost:4000/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}body{font-family:system-ui, sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.5;font-size:1rem;color:#16171a}nav ul{border-right:1px solid #edf2f7}a{color:#000;text-decoration-skip-ink:auto;text-decoration:underline}pre{margin:.5rem 0;padding:.5rem}.post p{margin:.5rem 0}.post h1,.post h2,.post h3,.post h4{margin:1rem 0}.post h2:first-child,.project h2:first-child,.photo h2:first-child{margin-top:0}.meta{margin:2rem 0}code{padding:.1rem}pre code{border:none}pre{padding:1rem;overflow-x:auto}img{max-width:100%}hr{background:#000;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem}blockquote{font-style:italic;border-left:5px solid #ececec;padding-left:1rem}h1,h2,h3,h4,h5{line-height:1;margin:1rem 0;font-weight:600}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts ul,header ul{list-style:none}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}main{display:flex;flex-wrap:wrap;max-width:60rem;margin:10rem auto;padding:1rem}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}}section{flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column}figcaption{font-size:smaller}.highlight{background:#fff}.highlighter-rouge .highlight{background:#eef}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:#008080}.highlight .vg{color:#008080}.highlight .vi{color:#008080}.highlight .il{color:#099}pre,code{font-size:15px;border:1px solid #e8e8e8;border-radius:3px;background-color:#eef}code{padding:1px 5px}pre{padding:8px 12px;overflow-x:auto}pre>code{border:0;padding-right:0;padding-left:0}blockquote{color:#828282;border-left:4px solid #e8e8e8;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}table{margin-bottom:30px;width:100%;text-align:left;color:#3f3f3f;border-collapse:collapse;border:1px solid #e8e8e8}table tr:nth-child(even){background-color:#f7f7f7}table th,table td{padding:10px 15px}table th{background-color:#f0f0f0;border:1px solid #dedede;border-bottom-color:#c9c9c9}table td{border:1px solid #e8e8e8}</style></head><head><link rel="stylesheet" type="text/css" href="/_sass/_main.css"></head><body><main role="main"><header role="banner"> <!--<h1 class="logo">counsel.config</h1>--><nav role="navigation"><ul><li><a href="/" >Index</a></li><li><a href="/about" >About</a></li><li><a href="/search" >Search</a></li><li><a href="https://github.com/counselconfig" >Git</a></li><li><a href="/atom.xml" >Rss</a></li></ul></nav></header><section class="post"><h2>RESTful APIs and Postman</h2><style> img { border: 1px solid #555; }</style><h3 id="api-in-basic-terms">API in basic terms</h3><p>An Application Programing Interface (API) is essentially a well defined method of communicating with a ‘service’. This means that a service provides a server to which a request can be sent and the server will answer with well defined responses, in accordance with an API specification.</p><h3 id="rest-api">REST API</h3><p>A representational state transfer (REST) API has an architecture which when compliant with REST contraints are coined RESTful, making use of web standards like HTML, JSON XML.</p><p>I said this would be a basic discusion, so all that we should know about RESTful APIs is that there are four types of actions that are used to communicate with it.</p><ul><li><p><code class="highlighter-rouge">GET</code>: A get action means we ask the service for data - we will check this out later.</p></li><li><p><code class="highlighter-rouge">POST</code>: This action is typically used to create data in the service.</p></li><li><p><code class="highlighter-rouge">PUT</code>: This action is used to update already existing data</p></li><li><p><code class="highlighter-rouge">DELETE</code>: This action is used to delete existing data</p></li></ul><h3 id="sending-parameters-and-arguments-to-a-restful-service">Sending parameters and arguments to a RESTful service.</h3><p>A REST request typically has three parts: The URL we are sending the request to, the HEADER of the request (which normally holds basic properties of the request), and in the BODY of the request.</p><ul><li><p>For examples of arguments sent in the URL, a <code class="highlighter-rouge">GET</code> action sent to a website selling cats at <ins>www.catsforsale.co.uk/user/1234</ins> could be a way to ask for information about user with 1234, and if we also want a list of all their cats, we might do so by sending the <code class="highlighter-rouge">GET</code> request to <ins>www.catsforsale.co.uk/user/1234?include_cats=true</ins>.</p></li><li><p>The header is sent along with the request - normally, in a browser, the request header is unseen since it is managed by the browser. Now, this is where <a target="_blank" rel="noopener" href="https://www.postman.com/">Postman</a> comes in handy as it lwil let us edit the header.</p></li></ul><h3 id="postman">Postman</h3><p>I will demonstrate <code class="highlighter-rouge">GET</code> requests with Postman using two real APIs, namely SmartSurvey and Eventbrite.</p><h3 id="smartsurvey-api">SmartSurvey API</h3><p>The SmartSurvey API does not require extra HEADER parameters, which means it be queried using a browser of a preference. Two authentication keys are needed to send a ‘call’ this service, viz: an ‘api_token’, and an ‘api_token_secret’, to let the server know the query can be trusted by an authenticated user. The a target=’_blank’ rel=’noopener’ href=’https://docs.smartsurvey.io/docs’&gt;Smart Survey documentation&lt;/a&gt; explains how to obtain these tokens.</p><p>There are two endpoints with the SmartSurvey API</p><p><strong>1. https://api.smartsurvey.io/v1/surveys</strong></p><p>The first endpoint above returns a list of all the surveys created. It requires the “api_token” and “api_token_secret” as parameters and two optional parameters for paginating the result:</p><p><code class="highlighter-rouge">page_size</code> - this specifies how many service should be returned in each call.</p><p><code class="highlighter-rouge">page</code> - this specifies which page to return.</p><p>i.e. if <code class="highlighter-rouge">page_size=100</code>, and <code class="highlighter-rouge">page=1</code>, we get the first 100 surveys. Changing page to page=2 gets us the next 100 surveys and so forth. If <code class="highlighter-rouge">page_size</code> and <code class="highlighter-rouge">page</code> are not specified we get 1 survey (the latest). Note this service does not use the header, we can test this in any browser, for example:</p><p><a target="_blank" rel="noopener" href="https://api.smartsurvey.io/v1/surveys?api_token=[api_token]&amp;api_token_secret=[api_token_secret]&amp;page_size=100&amp;page=1">https://api.smartsurvey.io/v1/surveys?api_token=[api_token]&amp;api_token_secret=[api_token_secret]&amp;page_size=100&amp;page=1</a></p><p><strong>2. https://api.smartsurvey.io/v1/surveys/[survey_id]/responses</strong></p><p>The second type above returns all responses to the specific survey specified by the <code class="highlighter-rouge">survey_id</code>. It takes the same parameters as previously listed (<code class="highlighter-rouge">api_token</code>, <code class="highlighter-rouge">api_token_secret</code>, <code class="highlighter-rouge">page_size</code> and <code class="highlighter-rouge">page</code>). It also takes an extra parameter <code class="highlighter-rouge">include_labels</code> - this should be set as <code class="highlighter-rouge">true</code> as without it the questions and responses will be absent with only question and answer IDs present) e.g. to get the first 100 survey responses for survey ID 421142, open the following link in a browser:</p><p><a target="_blank" rel="noopener" href="https://api.smartsurvey.io/v1/surveys/421142/responses?api_token=[api_token]&amp;api_token_secret=[api_token_secret]&amp;include_labels=true&amp;page_size=100&amp;page=1">https://api.smartsurvey.io/v1/surveys/421142/responses?api_token=[api_token]&amp;api_token_secret=[api_token_secret]&amp;include_labels=true&amp;page_size=100&amp;page=1</a></p><h4 id="query-smartsurvey-api-with-postman">Query SmartSurvey API with Postman</h4><ol><li>Add URL request in the URL text field with the “action” on the left is set to <code class="highlighter-rouge">GET</code> and press send!</li></ol><style> embed { border: 1px solid #555; }</style><embed src="/assets/images/ss_postman.png" width="100%" height="100%" style="display: block; margin: 0 auto" /><h4 id="smartsurvey-api-basic-authentication">SmartSurvey API Basic Authentication</h4><p>SmartSurvey supported querystring parameters as exampled above but as of today these are now deprecated and all requests should switch to using Basic Auth. Instead of adding the API Token and Token Secret as parameters in the GET request URL, they take the form of a <code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">password</code> respectively, which are passed to the header instead à la below:</p><p><a target="_blank" rel="noopener" href="https://api.smartsurvey.io/v1/surveys/421142/responses?include_labels=true&amp;page_size=100&amp;page=1">https://api.smartsurvey.io/v1/surveys/421142/responses?include_labels=true&amp;page_size=100&amp;page=1</a></p><h3 id="eventbrite-api">Eventbrite API</h3><p>This is the <a target="_blank" rel="noopener" href="eventbrite.com/platform/api">documentation for the Eventbrite API</a>. Authentication in Eventbrite differs from Smart Survey as it is achieved by sending the authentication keys in the <code class="highlighter-rouge">HEADER</code>, which means we need to use Postman by adding a key-value pair in the “Headers” tab, with:</p><ul><li><code class="highlighter-rouge">Key</code> = “Authorization”</li><li><code class="highlighter-rouge">Value</code> = “Bearer [private token]”</li></ul><p>Check the documetion on how to retrieve your private token</p><embed src="/assets/images/eb_postman.png" width="100%" height="100%" style="display: block; margin: 0 auto" /><p>N.B Eventbrite handles pagination differently than SmartSurvey. As per above the result starts with a “pagination” object with pages count information and a “continuation” code. To get the next page, send the same request again, but with an extra <code class="highlighter-rouge">“continuation</code> parameter set (in my case <code class="highlighter-rouge">eyJwYWdlIjogMn0</code>).</p><h3 id="eventbrite-api-endpoints">Eventbrite API endpoints</h3><p>There are many endpoints with Eventbrite API. Here are two:</p><p><strong>1. https://www.eventbriteapi.com/v3/organizations/0123456789/events?expand=organizer,venue</strong></p><p>This returns all events that an organisation has ever created (the number 0123456789 for instance would be the organisation ID):</p><p><strong>2. https://www.eventbriteapi.com/v3/organizations/1234561011/events?expand=organizer,venue</strong></p><p>The second enpoint above calls and returns all tickets attached to an event with additional information about attendees - as shown in Postman below:</p><embed src="/assets/images/eb2_postman.png" width="100%" height="100%" style="display: block; margin: 0 auto" /><p>Pagination information shown and then a list of all the orders for that event.</p><span class="meta"><time datetime="2022-12-01T00:00:00+00:00">1 December 2022</time> &middot; <a href="/tag/API">API</a>, <a href="/tag/RESTful">RESTful</a>, <a href="/tag/endpoint">endpoint</a></span></section></main></body></html>
